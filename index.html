<!DOCTYPE html>
<html lang="en" class="dark scroll-smooth">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Carlos Huit | Senior Software Engineer</title>
  <meta name="description" content="Senior Software Engineer building reliable, production-ready web systems.">

  <!-- Google Fonts: Roboto -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet">

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Tailwind Config -->
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        fontFamily: {
          sans: ['Roboto', 'sans-serif'],
        },
        extend: {
          colors: {
            // slate: {
            //     850: '#1e293b', // Custom depth
            //     950: '#020617',
            // },
            brand: {
              light: '#3b82f6', // blue-500
              dark: '#60a5fa',  // blue-400
            },
            dark: {
              bg: '#0f172a',    // slate-900
              card: '#1e293b',  // slate-800
              text: '#f1f5f9',  // slate-100
              muted: '#94a3b8'  // slate-400
            },
            light: {
              bg: '#ffffff',
              card: '#f8fafc',  // slate-50
              text: '#0f172a',  // slate-900
              muted: '#475569'  // slate-600
            }
          },
          animation: {
            'marquee': 'marquee 40s linear infinite',
            'fade-in-up': 'fadeInUp 0.8s ease-out forwards',
          },
          keyframes: {
            marquee: {
              '0%': { transform: 'translateX(0%)' },
              '100%': { transform: 'translateX(-50%)' },
            },
            fadeInUp: {
              '0%': { opacity: '0', transform: 'translateY(20px)' },
              '100%': { opacity: '1', transform: 'translateY(0)' },
            }
          }
        }
      }
    }
  </script>

  <style>
    /* Custom Utilities */
    body {
      font-feature-settings: "cv11", "ss01";
      -webkit-font-smoothing: antialiased;
    }

    /* Hide scrollbar for marquee but allow functionality */
    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }

    .no-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }

    /* Modal Transitions */
    .modal-enter {
      opacity: 0;
      transform: scale(0.95);
    }

    .modal-enter-active {
      opacity: 1;
      transform: scale(1);
      transition: opacity 300ms, transform 300ms;
    }

    .modal-exit {
      opacity: 1;
      transform: scale(1);
    }

    .modal-exit-active {
      opacity: 0;
      transform: scale(0.95);
      transition: opacity 200ms, transform 200ms;
    }

    /* Observer Animation Classes */
    .reveal-on-scroll {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    }

    .reveal-on-scroll.is-visible {
      opacity: 1;
      transform: translateY(0);
    }
  </style>
</head>

<body
  class="bg-slate-50 text-slate-800 dark:bg-dark-bg dark:text-slate-200 transition-colors duration-300 selection:bg-indigo-500 selection:text-white">

  <!-- Navigation -->
  <nav
    class="fixed w-full z-50 top-0 border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-dark-bg/80 backdrop-blur-md">
    <div class="max-w-5xl mx-auto px-6 h-16 flex items-center justify-between">
      <a href="#" class="text-xl font-bold tracking-tight text-slate-900 dark:text-white uppercase"
        id="nav-logo">CH.</a>

      <div class="flex items-center gap-6">
        <!-- Desktop Nav Links -->
        <div class="hidden md:flex gap-6 text-sm font-medium" id="nav-links">
          <!-- Injected by JS -->
        </div>

        <div class="flex items-center gap-3 pl-3 border-l border-slate-300 dark:border-slate-700">
          <!-- Lang Toggle -->
          <button id="lang-toggle"
            class="text-xs font-bold tracking-wider px-2 py-1 rounded hover:bg-slate-200 dark:hover:bg-slate-800 transition-colors">
            ES
          </button>
          <!-- Theme Toggle -->
          <button id="theme-toggle"
            class="p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-800 transition-colors"
            aria-label="Toggle Theme">
            <!-- Sun Icon -->
            <svg id="icon-sun" class="w-5 h-5 hidden dark:block" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z">
              </path>
            </svg>
            <!-- Moon Icon -->
            <svg id="icon-moon" class="w-5 h-5 block dark:hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
            </svg>
          </button>
        </div>
      </div>
    </div>
  </nav>

  <!-- Main Content Injection Point -->
  <main id="app" class="pt-16">
    <!-- Content renders here -->
  </main>

  <!-- Footer -->
  <footer class="py-12 border-t border-slate-200 dark:border-slate-800 mt-20">
    <div class="max-w-5xl mx-auto px-6 text-center text-sm text-slate-500 dark:text-slate-400">
      <p>&copy; <span id="year"></span> Carlos Huit. <span id="footer-rights"></span></p>
    </div>
  </footer>

  <!-- Modal Container -->
  <div id="modal-backdrop"
    class="fixed inset-0 z-[60] bg-slate-950/80 backdrop-blur-sm hidden flex items-center justify-center p-4 sm:p-6 opacity-0 transition-opacity duration-300"
    aria-hidden="true">
    <div id="modal-panel"
      class="bg-white dark:bg-slate-900 w-full max-w-3xl max-h-[90vh] overflow-y-auto rounded-lg shadow-2xl border border-slate-200 dark:border-slate-700 transform scale-95 transition-all duration-300 flex flex-col relative"
      role="dialog" aria-modal="true">
      <!-- Close Button -->
      <button id="modal-close"
        class="absolute top-4 right-4 p-2 text-slate-500 hover:text-slate-800 dark:hover:text-white transition-colors z-10 bg-white/50 dark:bg-black/50 rounded-full">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>

      <!-- Modal Content -->
      <div id="modal-content" class="p-0">
        <!-- Injected via JS -->
      </div>
    </div>
  </div>

  <!-- Application Logic -->
  <script>
    /**
     * --------------------------------------------------------------------------
     * DATA STORE (BILINGUAL)
     * --------------------------------------------------------------------------
     */
    const DATA = {
      en: {
        nav: {
          work: "Work",
          process: "Process",
          about: "About",
          contact: "Contact"
        },
        hero: {
          name: "Carlos Huit",
          title: "Senior Software Engineer",
          headline: "I build reliable, production-ready web systems.",
          subheadline: "Full-stack engineer with 6+ years of experience delivering real-world software, focused on clarity, maintainability, and results.",
          facts: [
            "6+ years building production systems",
            "Frontend & backend ownership",
            "Experience with critical workflows and sensitive data"
          ],
          ctaPrimary: "View Work",
          ctaSecondary: "Contact"
        },
        marquee: [
          "Production-ready systems",
          "Clear deliverables",
          "Maintainable code",
          "Reliable workflows",
          "Long-term support"
        ],
        valueProps: [
          {
            title: "Production mindset",
            desc: "I build software with real production constraints in mind — real users, real data, and real failure scenarios — reducing operational risk after delivery."
          },
          {
            title: "Clear deliverables",
            desc: "Defined scope, incremental deliveries, and validation checkpoints that reduce rework and align expectations from day one."
          },
          {
            title: "Maintainable systems",
            desc: "Readable code, clear structure, and practical documentation that lowers long-term maintenance costs."
          }
        ],
        work: {
          title: "Selected work",
          intro: "Examples of systems I’ve worked on, focusing on real use cases and production challenges.",
          cases: [
            {
              id: 0,
              title: "Paggo – Financial Operations Backoffice Modules",
              summary: "Set of critical backoffice modules developed for a financial platform, focused on automating operational workflows, reducing manual processes, and improving onboarding and risk management.",
              image: "https://res.cloudinary.com/dpffdz8ho/image/upload/v1767133874/92c749v82t3/images/Screenshot_2025-12-30_at_4.31.08_PM_ethojc.png",
              highlights: [
                "Automated business onboarding with self-service flows",
                "Workflow-driven review modules for legal and operational validation",
                "Multi-warehouse (multi-location) management for inventory distribution",
                "Operational tooling for sales and support teams",
                "Retention and fraud review workflows with full traceability",
                "Support for multi-branch business structures"
              ],
              impact: [
                "Reduced business onboarding time from manual processes to under 7 minutes",
                "Enabled businesses to self-onboard and start transacting without manual intervention",
                "Improved visibility and follow-up of new business onboarding for sales and support teams",
                "Centralized and structured legal document review processes",
                "Provided clear tracking and resolution of retained transactions due to suspected fraud"
              ],
              stack: [
                "TypeScript",
                "Node.js",
                "NestJS",
                "React",
                "PostgreSQL",
                "MongoDB"
              ],
              confidentialityNote: "Screenshots are illustrative and do not contain real customer or transactional data due to confidentiality.",
              link: "#"
            },
            {
              id: 1,
              title: "MarketMatch – AI-powered Marketplace for Leads & Calls",
              summary: "End-to-end marketplace platform for buying and selling leads and calls, designed for publishers, advertisers, brokers, and affiliates. Includes private deal posting, onboarding workflows, traffic management, and advanced analytics.",
              image: "https://res.cloudinary.com/dpffdz8ho/image/upload/v1767053316/92c749v82t3/images/mm-22_gproim.png",
              highlights: [
                "Private marketplace for lead and call deals",
                "Multi-role system: publishers, advertisers, brokers",
                "Integrated lead management and call routing systems",
                "Advanced dashboards for traffic, revenue, and performance",
                "Scalable architecture supporting high-volume traffic"
              ],
              impact: [
                "Enabled monetization of inbound traffic through automated distribution",
                "Reduced manual operations via workflow-based management",
                "Improved visibility of performance and profitability across partners"
              ],
              stack: [
                "TypeScript",
                "Node.js",
                "NestJS",
                "React",
                "PostgreSQL",
                "MongoDB",
                "Redis",
                "AWS",
                "Docker",
                "Kubernetes"
              ],
              link: "https://marketmatch.ai/"
            },
            {
              id: 2,
              title: "Capital Valley Affiliates – Lead & Call Management Platform",
              summary: "Traffic management platform focused on lead distribution and call routing, providing features similar to Leadspedia and Ringba for affiliates and traffic buyers.",
              image: "https://res.cloudinary.com/dpffdz8ho/image/upload/v1767101348/92c749v82t3/images/Screenshot_2025-12-30_at_7.28.59_AM_e8pgkl.png",
              highlights: [
                "Lead management with ping and pre-ping logic",
                "Call routing and traffic distribution engine",
                "Affiliate-oriented reporting and profit tracking",
                "Rule-based decision engine for traffic monetization",
                "Operational dashboards for real-time monitoring"
              ],
              impact: [
                "Optimized lead and call distribution based on business rules",
                "Increased profitability through dynamic traffic routing",
                "Provided operational visibility for affiliates and buyers"
              ],
              stack: [
                "TypeScript",
                "Node.js",
                "NestJS",
                "React",
                "PostgreSQL",
                "MongoDB",
                "Redis",
                "AWS",
                "Docker",
                "Kubernetes"
              ],
              link: "https://affiliates.capitalvalleytech.com/"
            },
          ]
        },
        process: {
          title: "How I Work",
          steps: [
            { step: "01", title: "Understand the problem and constraints", desc: "Avoids building the wrong solution and reduces rework." },
            { step: "02", title: "Define scope and expected deliverables", desc: "Ensures clarity on timelines, responsibilities, and acceptance criteria." },
            { step: "03", title: "Build incrementally with frequent validation", desc: "Issues are detected early, not at the end of the project." },
            { step: "04", title: "Deliver functional, documented software", desc: "Enables smooth handoff, future maintenance, and internal continuity." }
          ]
        },
        tech: {
          title: "Tech Stack",
          primary: ["TypeScript", "JavaScript", "Python", "Node.js", "React", "React Native", "Angular", "SQL / NoSQL", "AWS"],
          secondary: ["Docker", "Redis", "MongoDB", "PostgreSQL", "CI/CD", "Kubernetes", "NestJS", "Express"],
          labels: { primary: "Primary stack", secondary: "Also worked with" }
        },
        skills: {
          title: "Skills",
          categories: [
            { name: "Web Development", items: ["Frontend and backend development", "Modern web architectures", "API design"] },
            { name: "Data & Systems", items: ["SQL and NoSQL databases", "Data modeling", "System reliability"] },
            { name: "Professional Practices", items: ["Security-aware development", "Documentation", "Production support"] }
          ]
        },
        about: {
          title: "About",
          text: "I’m a 28-year-old software engineer with over 6 years of experience working on real production systems. I enjoy solving concrete problems and building software that teams can trust and maintain over time."
        },
        contact: {
          title: "Get in touch",
          email: "jchuit.me@gmail.com",
          linkedin: "https://linkedin.com/in/huit-carlos",
          cvLabel: "Download CV (PDF)",
          footerRights: "All rights reserved."
        }
      },
      es: {
        nav: {
          work: "Proyectos",
          process: "Proceso",
          about: "Sobre mí",
          contact: "Contacto"
        },
        hero: {
          name: "Carlos Huit",
          title: "Desarrollador de Software Senior",
          headline: "Construyo sistemas web confiables y listos para producción.",
          subheadline: "Desarrollador full stack con más de 6 años de experiencia entregando software real, enfocado en claridad, mantenibilidad y resultados.",
          facts: [
            "Más de 6 años construyendo sistemas productivos",
            "Responsabilidad completa frontend y backend",
            "Experiencia en flujos críticos y manejo de datos sensibles"
          ],
          ctaPrimary: "Ver Proyectos",
          ctaSecondary: "Contactar"
        },
        marquee: [
          "Sistemas listos para producción",
          "Entregables claros",
          "Código mantenible",
          "Flujos confiables",
          "Soporte a largo plazo"
        ],
        valueProps: [
          {
            title: "Mentalidad de producción",
            desc: "Desarrollo software considerando restricciones reales — usuarios, datos y fallos reales — reduciendo riesgos operativos tras la entrega."
          },
          {
            title: "Entregables claros",
            desc: "Alcance definido, entregas incrementales y validaciones que reducen retrabajo y alinean expectativas desde el inicio."
          },
          {
            title: "Sistemas mantenibles",
            desc: "Código legible, estructura clara y documentación práctica que reduce costos de mantenimiento a largo plazo."
          }
        ],
        work: {
          title: "Proyectos destacados",
          intro: "Ejemplos de sistemas en los que he trabajado, enfocados en casos reales y retos de producción.",
          cases: [
            {
              id: 0,
              title: "Paggo – Módulos de Backoffice para Operaciones Financieras",
              summary: "Conjunto de módulos críticos de backoffice desarrollados para una plataforma financiera, enfocados en la automatización de flujos operativos, reducción de procesos manuales y mejora del onboarding y gestión de riesgo.",
              image: "https://res.cloudinary.com/dpffdz8ho/image/upload/v1767133874/92c749v82t3/images/Screenshot_2025-12-30_at_4.31.08_PM_ethojc.png",
              highlights: [
                "Onboarding automatizado de negocios mediante flujos de autoservicio",
                "Módulos de revisión basados en flujos para validación legal y operativa",
                "Gestión de multibodegas para la distribución de inventario",
                "Herramientas operativas para equipos de ventas y soporte",
                "Flujos de revisión de transacciones retenidas y fraude con trazabilidad",
                "Soporte para estructuras de negocios con múltiples sucursales"
              ],
              impact: [
                "Reducción del tiempo de onboarding de negocios a menos de 7 minutos",
                "Habilitación de auto-onboarding para que los negocios comiencen a transaccionar sin intervención manual",
                "Mejor seguimiento y control del proceso de onboarding para equipos de ventas y soporte",
                "Centralización y ordenamiento de la revisión de documentos legales",
                "Seguimiento claro y gestión efectiva de transacciones retenidas por sospecha de fraude"
              ],
              stack: [
                "TypeScript",
                "Node.js",
                "NestJS",
                "React",
                "PostgreSQL",
                "MongoDB"
              ],
              confidentialityNote: "Las imágenes mostradas son ilustrativas y no contienen datos reales de clientes o transacciones por motivos de confidencialidad.",
              link: "#"
            },
            {
              id: 1,
              title: "MarketMatch – Marketplace potenciado para Leads y Llamadas",
              summary: "Plataforma marketplace de punta a punta para la compra y venta de leads y llamadas, dirigida a publishers, advertisers, brokers y afiliados. Incluye publicación privada de negocios, flujos de onboarding, gestión de tráfico y analítica avanzada.",
              image: "https://res.cloudinary.com/dpffdz8ho/image/upload/v1767053316/92c749v82t3/images/mm-22_gproim.png",
              highlights: [
                "Marketplace privado para negocios de leads y llamadas",
                "Sistema multi-rol: publishers, advertisers y brokers",
                "Gestión integrada de leads y ruteo de llamadas",
                "Dashboards avanzados de tráfico, ingresos y rendimiento",
                "Arquitectura escalable para alto volumen de tráfico"
              ],
              impact: [
                "Monetización automatizada de tráfico entrante",
                "Reducción de operaciones manuales mediante flujos de trabajo",
                "Mayor visibilidad de rendimiento y rentabilidad entre partners"
              ],
              stack: [
                "TypeScript",
                "Node.js",
                "NestJS",
                "React",
                "PostgreSQL",
                "MongoDB",
                "Redis",
                "AWS",
                "Docker",
                "Kubernetes"
              ],
              link: "https://marketmatch.ai/"
            },
            {
              id: 2,
              title: "Capital Valley Affiliates – Plataforma de gestión de Leads y Llamadas",
              summary: "Plataforma de gestión de tráfico enfocada en la distribución de leads y ruteo de llamadas, con funcionalidades similares a Leadspedia y Ringba para afiliados y compradores de tráfico.",
              image: "https://res.cloudinary.com/dpffdz8ho/image/upload/v1767101348/92c749v82t3/images/Screenshot_2025-12-30_at_7.28.59_AM_e8pgkl.png",
              highlights: [
                "Gestión de leads con lógica de ping y pre-ping",
                "Motor de ruteo de llamadas y distribución de tráfico",
                "Reportería orientada a afiliados y control de rentabilidad",
                "Motor de reglas para monetización de tráfico",
                "Dashboards operativos en tiempo real"
              ],
              impact: [
                "Optimización de la distribución de leads y llamadas",
                "Incremento de rentabilidad mediante ruteo dinámico",
                "Visibilidad operativa para afiliados y compradores"
              ],
              stack: [
                "TypeScript",
                "Node.js",
                "NestJS",
                "React",
                "PostgreSQL",
                "MongoDB",
                "Redis",
                "AWS",
                "Docker",
                "Kubernetes"
              ],
              link: "https://affiliates.capitalvalleytech.com/"
            },
          ]
        },
        process: {
          title: "Cómo trabajo",
          steps: [
            { step: "01", title: "Entiendo el problema y sus restricciones", desc: "Evita construir la solución incorrecta y reduce retrabajo." },
            { step: "02", title: "Defino alcance y entregables esperados", desc: "Asegura claridad en tiempos, responsabilidades y criterios de aceptación." },
            { step: "03", title: "Desarrollo incremental con validaciones frecuentes", desc: "Los problemas se detectan temprano, no al final." },
            { step: "04", title: "Entrego software funcional y documentado", desc: "Facilita la entrega, el mantenimiento futuro y la continuidad interna." }
          ]
        },
        tech: {
          title: "Tech Stack",
          primary: ["TypeScript", "JavaScript", "Python", "Node.js", "React", "React Native", "Angular", "SQL / NoSQL", "AWS"],
          secondary: ["Docker", "Redis", "MongoDB", "PostgreSQL", "CI/CD", "Kubernetes", "NestJS", "Express"],
          labels: { primary: "Stack principal", secondary: "También he trabajado con" }
        },
        skills: {
          title: "Habilidades",
          categories: [
            { name: "Desarrollo Web", items: ["Desarrollo frontend y backend", "Arquitecturas web modernas", "Diseño de APIs"] },
            { name: "Datos y Sistemas", items: ["Bases de datos SQL y NoSQL", "Modelado de datos", "Confiabilidad del sistema"] },
            { name: "Prácticas Profesionales", items: ["Desarrollo con enfoque en seguridad", "Documentación técnica", "Soporte a producción"] }
          ]
        },
        about: {
          title: "Sobre mí",
          text: "Soy un desarrollador de software de 28 años con más de 6 años de experiencia trabajando en sistemas productivos. Me gusta resolver problemas reales y construir software confiable y mantenible en el tiempo."
        },
        contact: {
          title: "Contacto",
          email: "jchuit.me@gmail.com",
          linkedin: "https://linkedin.com/in/huit-carlos",
          cvLabel: "Descargar CV (PDF)",
          footerRights: "Todos los derechos reservados."
        }
      }
    };

    /**
     * --------------------------------------------------------------------------
     * STATE & UTILS
     * --------------------------------------------------------------------------
     */
    let currentLang = 'en';

    function detectLanguage() {
      const params = new URLSearchParams(window.location.search);
      const lang = params.get('lang');
      return lang === 'es' ? 'es' : 'en';
    }

    currentLang = detectLanguage();

    function initTheme() {

      if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {

        document.documentElement.classList.add('dark');

      } else {

        document.documentElement.classList.remove('dark');

      }

    }

    initTheme();

    const icons = {
      check: `<svg class="w-5 h-5 text-indigo-500 mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>`,
      arrowRight: `<svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg>`,
      mail: `<svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>`,
      linkedin: `<svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6zM2 9h4v12H2z"></path><circle cx="4" cy="4" r="2" stroke="currentColor" stroke-width="2" fill="none"></circle></svg>`,
      download: `<svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>`,
      box: `<svg class="w-6 h-6 mb-4 text-indigo-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg>`
    };

    function renderApp() {
      const content = DATA[currentLang];
      const app = document.getElementById('app');
      const navLinks = document.getElementById('nav-links');
      const langBtn = document.getElementById('lang-toggle');

      // Update Nav
      navLinks.innerHTML = `
        <a href="#work" class="hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors">${content.nav.work}</a>
        <a href="#process" class="hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors">${content.nav.process}</a>
        <a href="#about" class="hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors">${content.nav.about}</a>
        <a href="#contact" class="hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors">${content.nav.contact}</a>
      `;

      langBtn.textContent = currentLang === 'en' ? 'ES' : 'EN';

      document.getElementById('footer-rights').textContent = content.contact.footerRights;
      document.getElementById('year').textContent = new Date().getFullYear();


      app.innerHTML = `
                <!-- Hero Section -->
                <section class="min-h-[90vh] flex flex-col justify-center px-6 max-w-5xl mx-auto pt-10 pb-20">
                    <div class="absolute top-20 right-0 w-64 h-64 bg-brand-light/10 dark:bg-brand-dark/10 rounded-full blur-3xl -z-10 animate-pulse"></div>
                    <div class="absolute bottom-20 left-0 w-96 h-96 bg-brand-light/10 rounded-full blur-3xl -z-10"></div>
                    <div class="flex flex-col-reverse md:flex-row items-center gap-10 md:gap-16">
                        <div class="flex-1 space-y-6 text-center md:text-left">
                            <div class="text-brand-light dark:text-brand-dark font-bold tracking-wider uppercase mb-2 text-sm" data-i18n="hero_title">
                              ${content.hero.title}
                            </div>
                            <h1 class="text-4xl md:text-6xl font-extrabold tracking-tight leading-tight">
                                ${content.hero.headline}
                            </h1>
                            <p class="text-lg md:text-xl text-slate-600 dark:text-slate-400 leading-relaxed max-w-2xl mx-auto md:mx-0">
                                ${content.hero.subheadline}
                            </p>
                            <ul class="space-y-2 text-sm md:text-base text-slate-600 dark:text-slate-400 max-w-lg mx-auto md:mx-0 text-left pl-4 md:pl-0">
                                ${content.hero.facts.map(fact => `<li class="flex items-start">${icons.check} <span>${fact}</span></li>`).join('')}
                            </ul>
                            <div class="pt-4 flex flex-col sm:flex-row gap-4 justify-center md:justify-start">
                                <a href="#work" class="inline-flex items-center justify-center px-8 py-3 text-base font-semibold text-white bg-indigo-600 rounded hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-500/20 active:scale-95">
                                    ${content.hero.ctaPrimary}
                                </a>
                                <a href="#contact" class="inline-flex items-center justify-center px-8 py-3 text-base font-semibold text-slate-700 dark:text-slate-200 bg-transparent border border-slate-300 dark:border-slate-700 rounded hover:bg-slate-100 dark:hover:bg-slate-800 transition-all active:scale-95">
                                    ${content.hero.ctaSecondary}
                                </a>
                            </div>
                        </div>
                        <div class="order-1 md:order-2 flex justify-center md:justify-end animate-fade-in-up" style="animation-delay: 0.2s;">
                          <div class="relative w-64 h-64 md:w-80 md:h-80">
                              <div class="absolute inset-0 bg-brand-light/20 dark:bg-brand-dark/20 rounded-2xl transform rotate-6 transition-transform hover:rotate-3 duration-500"></div>
                              <div class="absolute inset-0 bg-gray-200 dark:bg-gray-800 rounded-2xl overflow-hidden shadow-2xl">
                                <img src="https://media.licdn.com/dms/image/v2/D4E03AQGkCQXtAXpDJQ/profile-displayphoto-crop_800_800/B4EZszT3BmGoAQ-/0/1766092403760?e=1768435200&v=beta&t=m-evV6MhOWS7Sxe4CIkVZKEv_kM4vkG1PN7nFMSf4TM" alt="Carlos Huit" class="w-full h-full object-cover">
                              </div>
                          </div>
                      </div>
                    </div>
                </section>

                <!-- Marquee Banner -->
                <section class="border-y border-slate-200 dark:border-slate-800 py-4 bg-white/50 dark:bg-slate-900/50 backdrop-blur overflow-hidden relative">
                    <div class="flex w-[200%] animate-marquee whitespace-nowrap">
                        <div class="flex items-center justify-around w-full">
                             ${content.marquee.map(item => `<span class="text-sm font-bold uppercase tracking-widest text-slate-400 dark:text-slate-500 mx-8 flex items-center gap-2"><div class="w-1.5 h-1.5 rounded-full bg-indigo-500"></div> ${item}</span>`).join('')}
                             ${content.marquee.map(item => `<span class="text-sm font-bold uppercase tracking-widest text-slate-400 dark:text-slate-500 mx-8 flex items-center gap-2"><div class="w-1.5 h-1.5 rounded-full bg-indigo-500"></div> ${item}</span>`).join('')}
                        </div>
                    </div>
                </section>

                <!-- Value Proposition -->
                <section class="py-24 px-6 max-w-5xl mx-auto">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                        ${content.valueProps.map((prop, i) => `
                            <div class="p-6 rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 hover:border-indigo-500/30 transition-colors reveal-on-scroll" style="transition-delay: ${i * 100}ms">
                                ${icons.box}
                                <h3 class="text-lg font-bold mb-3 text-slate-900 dark:text-slate-100">${prop.title}</h3>
                                <p class="text-sm text-slate-600 dark:text-slate-400 leading-relaxed">${prop.desc}</p>
                            </div>
                        `).join('')}
                    </div>
                </section>

                <!-- Selected Work -->
                <section id="work" class="py-24 bg-slate-100/50 dark:bg-slate-900/50 border-y border-slate-200 dark:border-slate-800">
                  <div class="max-w-5xl mx-auto px-6">
                    <div class="mb-12 text-center md:text-left reveal-on-scroll">
                        <h2 class="text-3xl font-bold mb-4">${content.work.title}</h2>
                        <p class="text-slate-600 dark:text-slate-400 max-w-2xl">${content.work.intro}</p>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-12">

                      ${
                        content.work.cases.map((project, i) => {
                        
                          const title = project.title;
                          const summary = project.summary;
                          const btnText = currentLang === 'en' ? 'View Details' : 'Ver Detalles';
                          
                          return `
                          <div onclick="openModal(${project.id})" class="group reveal cursor-pointer">
                            <div class="relative overflow-hidden rounded-xl bg-gray-200 dark:bg-gray-800 aspect-video mb-6 border border-gray-200 dark:border-gray-800">
                              <img src="${project.image}" alt="${title}" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105">
                              <div class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                                <span class="px-6 py-2 bg-white text-black font-bold text-sm rounded-full transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300">${btnText}</span>
                              </div>
                            </div>
                            <div class="flex flex-wrap gap-2 mb-3">
                              ${
                                project.stack
                                  ?.slice(0,3)
                                  ?.map(tech => {
                                    return `<span class="text-xs font-mono px-2 py-1 rounded bg-gray-100 dark:bg-gray-800 text-light-muted dark:text-dark-muted">${tech}</span>`;
                                  })
                                  ?.join('')
                              }
                            </div>
                            <h3 class="text-2xl font-bold mb-2 group-hover:text-indigo-500 dark:group-hover:text-indigo-500 transition-colors">${title}</h3>
                            <p class="text-light-muted dark:text-dark-muted leading-relaxed">${summary}</p>
                          </div>
                          `;

                        }).join('')
                      }

                    </div>
                  </div>
                </section>

                <!-- How I Work (Timeline) -->
                <section id="process" class="py-24 max-w-5xl mx-auto px-6">
                    <h2 class="text-3xl font-bold mb-12 text-center reveal-on-scroll">${content.process.title}</h2>
                    <div class="space-y-12 relative before:absolute before:inset-0 before:ml-5 before:-translate-x-px md:before:mx-auto md:before:translate-x-0 before:h-full before:w-0.5 before:bg-gradient-to-b before:from-transparent before:via-slate-300 before:to-transparent dark:before:via-slate-700">
                        ${content.process.steps.map((step, i) => `
                            <div class="relative flex items-center justify-between md:justify-normal md:odd:flex-row-reverse group reveal-on-scroll">
                                <div class="flex items-center justify-center w-10 h-10 rounded-full border-4 border-white dark:border-slate-950 bg-indigo-500 text-white font-bold text-xs shrink-0 md:order-1 md:group-odd:-translate-x-1/2 md:group-even:translate-x-1/2 shadow-lg z-10">
                                    ${step.step}
                                </div>
                                <div class="w-[calc(100%-4rem)] md:w-[calc(50%-2.5rem)] p-6 bg-white dark:bg-slate-900 rounded border border-slate-200 dark:border-slate-800 shadow-sm">
                                    <h3 class="font-bold text-lg mb-2 text-slate-900 dark:text-slate-100">${step.title}</h3>
                                    <p class="text-sm text-slate-600 dark:text-slate-400">${step.desc}</p>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </section>

                <!-- Tech Stack & Skills -->
                <section class="py-24 bg-slate-900 text-slate-200">
                    <div class="max-w-5xl mx-auto px-6">
                        <!-- Tech Stack -->
                        <div class="mb-20 reveal-on-scroll">
                            <h2 class="text-2xl font-bold mb-8 text-white">${content.tech.title}</h2>
                            <div class="space-y-6">
                                <div>
                                    <p class="text-xs font-bold uppercase tracking-wider text-slate-500 mb-3">${content.tech.labels.primary}</p>
                                    <div class="flex flex-wrap gap-2">
                                        ${content.tech.primary.map(t => `<span class="px-3 py-1 bg-indigo-600/20 border border-indigo-500/50 text-indigo-300 rounded text-sm font-medium">${t}</span>`).join('')}
                                    </div>
                                </div>
                                <div>
                                    <p class="text-xs font-bold uppercase tracking-wider text-slate-500 mb-3">${content.tech.labels.secondary}</p>
                                    <div class="flex flex-wrap gap-2">
                                        ${content.tech.secondary.map(t => `<span class="px-3 py-1 bg-slate-800 border border-slate-700 text-slate-400 rounded text-sm">${t}</span>`).join('')}
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Skills Grid -->
                        <div class="reveal-on-scroll">
                            <h2 class="text-2xl font-bold mb-8 text-white">${content.skills.title}</h2>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                                ${content.skills.categories.map(cat => `
                                    <div class="space-y-4">
                                        <h3 class="font-bold text-lg text-indigo-400">${cat.name}</h3>
                                        <ul class="space-y-2">
                                            ${cat.items.map(item => `<li class="flex items-center text-sm text-slate-400"><div class="w-1.5 h-1.5 bg-slate-600 rounded-full mr-2"></div> ${item}</li>`).join('')}
                                        </ul>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                </section>

                <!-- About & Contact -->
                <section id="about" class="py-24 max-w-5xl mx-auto px-6 grid md:grid-cols-2 gap-16">
                    <div class="reveal-on-scroll">
                        <h2 class="text-3xl font-bold mb-6">${content.about.title}</h2>
                        <p class="text-lg leading-relaxed text-slate-600 dark:text-slate-300">
                            ${content.about.text}
                        </p>
                    </div>
                    <div id="contact" class="bg-slate-100 dark:bg-slate-900 p-8 rounded-xl border border-slate-200 dark:border-slate-800 reveal-on-scroll">
                        <h2 class="text-2xl font-bold mb-6">${content.contact.title}</h2>
                        <ul class="space-y-4">
                            <li>
                                <a href="mailto:${content.contact.email}" class="flex items-center text-slate-700 dark:text-slate-300 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors">
                                    ${icons.mail} ${content.contact.email}
                                </a>
                            </li>
                            <li>
                                <a href="${content.contact.linkedin}" target="_blank" rel="noopener noreferrer" class="flex items-center text-slate-700 dark:text-slate-300 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors">
                                    ${icons.linkedin} LinkedIn Profile
                                </a>
                            </li>
                        </ul>
                        <div class="mt-8 pt-8 border-t border-slate-200 dark:border-slate-700">
                            <a href="#" class="inline-flex items-center px-6 py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded font-semibold hover:opacity-90 transition-opacity w-full justify-center">
                                ${icons.download} ${content.contact.cvLabel}
                            </a>
                        </div>
                    </div>
                </section>
            `;

      setupIntersectionObserver();
    }

    /**
     * --------------------------------------------------------------------------
     * MODAL LOGIC
     * --------------------------------------------------------------------------
     */
    function openModal(projectId) {

      const project = DATA[currentLang].work.cases.find(c => c.id === projectId);

      if (!project) return;

      const modalBackdrop = document.getElementById('modal-backdrop');
      const modalContent = document.getElementById('modal-content');

      const isEnglish = currentLang === 'en';
      const summaryTitle = isEnglish ? 'Summary' : 'Resumen';
      const highlightsTitle = isEnglish ? 'Highlights' : 'Puntos Clave';
      const impactTitle = isEnglish ? 'Business Impact' : 'Impacto';
      const hasLink = project.link && project.link.length > 0;
      const viewProjectText = isEnglish ? 'View Project' : 'Visitar';
      const btnLink = hasLink ? `
        <a href="${project.link}" target="_blank" rel="noopener noreferrer" class="inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded font-semibold hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-500/20">
            ${viewProjectText} ${icons.arrowRight}
        </a>
      ` : '';

      modalContent.innerHTML = `
        <div class="relative">
          <img src="${project.image}" alt="${project.title}" class="w-full h-48 sm:h-64 object-cover">
        </div>
        <div class="p-6 sm:p-8 space-y-8">
          <div>
            <h2 class="text-2xl sm:text-3xl font-bold text-white mb-2">${project.title}</h2>
            <p class="text-slate-200 text-sm sm:text-base">${project.summary}</p>
          </div>
          <div class="flex flex-wrap gap-2 mb-3">
            ${project?.stack?.map(s => `
                <span class="text-xs font-mono px-2 py-1 rounded bg-gray-100 dark:bg-gray-800 text-light-muted dark:text-dark-muted" style="font-weight:500">${s}</span>
            `)?.join('') || ''}
          </div>
          <div>
            <h3 class="text-xs font-bold uppercase tracking-wider text-slate-500 mb-4">${highlightsTitle}</h3>
            <ul class="space-y-3">
                ${project?.highlights?.map(h => `
                  <li class="flex items-start text-slate-700 dark:text-slate-300">
                    <span class="text-indigo-500 mr-2 mt-0.5">●</span>
                    <span>${h}</span>
                  </li>
                `)?.join('')}
            </ul>
          </div>
          <div>
            <h3 class="text-xs font-bold uppercase tracking-wider text-slate-500 mb-4">${impactTitle}</h3>
            <ul class="space-y-3">
              ${project?.impact?.map(i => `
                <li class="flex items-start text-slate-700 dark:text-slate-300">
                  ${icons.check}
                  <span>${i}</span>
                </li>
              `)?.join('')}
            </ul>
          </div>
          ${btnLink}
        </div>
      `;

      modalBackdrop.classList.remove('hidden');
      document.body.style.overflow = 'hidden'; // Lock scroll

      // Trigger animation
      requestAnimationFrame(() => {
        modalBackdrop.classList.remove('opacity-0');
        const panel = document.getElementById('modal-panel');
        panel.classList.remove('scale-95');
        panel.classList.add('scale-100');
      });
    }

    function closeModal() {
      const modalBackdrop = document.getElementById('modal-backdrop');
      const panel = document.getElementById('modal-panel');

      modalBackdrop.classList.add('opacity-0');
      panel.classList.remove('scale-100');
      panel.classList.add('scale-95');

      setTimeout(() => {
        modalBackdrop.classList.add('hidden');
        document.body.style.overflow = ''; // Unlock scroll
      }, 300);
    }

    // Close on backdrop click
    document.getElementById('modal-backdrop').addEventListener('click', (e) => {
      if (e.target.id === 'modal-backdrop') closeModal();
    });

    // Close on ESC
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeModal();
    });

    document.getElementById('modal-close').addEventListener('click', closeModal);

    /**
     * --------------------------------------------------------------------------
     * ANIMATION LOGIC
     * --------------------------------------------------------------------------
     */
    function setupIntersectionObserver() {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
          }
        });
      }, { threshold: 0.1 });

      document.querySelectorAll('.reveal-on-scroll').forEach(el => observer.observe(el));
    }

    /**
     * --------------------------------------------------------------------------
     * EVENT LISTENERS & INIT
     * --------------------------------------------------------------------------
     */

    // Theme Toggle
    document.getElementById('theme-toggle').addEventListener('click', () => {
      document.documentElement.classList.toggle('dark');
      localStorage.theme = document.documentElement.classList.contains('dark') ? 'dark' : 'light';
    });

    // Language Toggle (History API)
    // document.getElementById('lang-toggle').addEventListener('click', () => {
    //   if (currentLang === 'en') {
    //     currentLang = 'es';
    //     window.history.pushState({}, '', '/es');
    //   } else {
    //     currentLang = 'en';
    //     window.history.pushState({}, '', '/');
    //   }
    //   renderApp();
    //   window.scrollTo(0, 0);
    // });
    document.getElementById('lang-toggle').addEventListener('click', () => {
      const url = new URL(window.location.href);

      if (currentLang === 'en') {
        currentLang = 'es';
        url.searchParams.set('lang', 'es');
      } else {
        currentLang = 'en';
        url.searchParams.delete('lang'); // vuelve a default en (o podés setear lang=en)
      }

      window.history.pushState({}, '', url.toString());
      renderApp();
      window.scrollTo(0, 0);
    });

    // Handle Browser Back/Forward
    window.addEventListener('popstate', () => {
      currentLang = detectLanguage();
      renderApp();
    });

    // Initial Render
    renderApp();

  </script>
</body>

</html>